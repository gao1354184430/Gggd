#香港机器配置
#按照落地进行分组
#
server {
    listen 16616;
    location / {
		proxy_pass http://tw;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 26604;
    location / {
		proxy_pass http://cvtw;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 23330;
    location / {
		proxy_pass http://fqtw;
		include /usr/local/nginx/ws; 
        }
}
#按落地分组
#新加坡
upstream mjhksg{
        ip_hash;
        server 50.7.60.26:2052;      #新加坡2-FDC
        server 45.77.39.176:6616;   #新加坡3-Vultr
        #server 139.162.74.154:6617;    #日本4-
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp; #健康检测
}
server {
    listen 16618;
    location / {
		proxy_pass http://mjhksg;
		include /usr/local/nginx/ws; 
        }
	location /status { #监控页面
        check_status;
        access_log   off;
    }
}
server {
    listen 26603; #CV
    location / {
		proxy_pass http://50.7.60.26:8818;
		include /usr/local/nginx/ws; 
        }
}
#要饭台湾2
upstream tw{
        dynamic_resolve fallback=stale fail_timeout=60s; 
        server mjtw.ddns.me:6617;
}
upstream fqtw{
        dynamic_resolve fallback=stale fail_timeout=60s; 
        server kcdtw.ddns.me:7721;

}
upstream cvtw{
        dynamic_resolve fallback=stale fail_timeout=60s; 
        server mjtw.ddns.me:8818;
}
upstream dogtw{
        dynamic_resolve fallback=stale fail_timeout=60s; 
        server mjtw.ddns.me:10651;
}
#日本-FDC-JP
upstream mjhkjp{
        ip_hash;
        server 50.7.14.76:6617;      #日本2-FDC
        server 198.13.48.103:6617;   #日本3-Vultr
        server 66.42.38.45:6617;    #日本4-aws4
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp; #健康检测
}
server {
    listen 16617; #MJ
    location / {
		proxy_pass http://mjhkjp;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 26601; #CV
    location / {
		proxy_pass http://50.7.14.76:8818;
		include /usr/local/nginx/ws; 
        }
}
#香港
server {
    listen 16631; #MJ
    location / {
		proxy_pass http://42.200.190.71:6616;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 26607; #CV
    location / {
		proxy_pass http://50.7.17.57:8818;
		include /usr/local/nginx/ws; 
        }
}
#越南
server {
    listen 16627; #MJ
    location / {
		proxy_pass http://157.119.249.153:6616;
		include /usr/local/nginx/ws; 
        }
}
#阿根廷
server {
    listen 16628;
    location / {
		proxy_pass http://66.90.74.14:6616;  #魔戒阿根廷
		include /usr/local/nginx/ws; 
        }
}
#派蒙
server {
    listen 26701;
    location / {
		proxy_pass http://50.7.17.57:1333;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 26702;
    location / {
		proxy_pass http://50.7.14.77:1333;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 26633;  #az-fdc
    location / {
		proxy_pass http://50.7.17.56:6616;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 26622;  #az-hgc_n
    location / {
		proxy_pass http://210.0.159.89:6616;
		include /usr/local/nginx/ws; 
        }
}
#马来
server {
    listen 26623; #mj
    location / {
		proxy_pass http://118.101.192.178:6622;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 26610;
    location / {
		proxy_pass http://58.26.140.36:8818;
		include /usr/local/nginx/ws; 
        }
}
server {
    listen 10044;
    location / {
		proxy_pass http://58.26.140.36:7716;
		include /usr/local/nginx/ws; 
        }
}
#dog狗子特殊分组-国内VNETC-nginx承载nginx落地vnets
server {
    listen 10651;
    location / {
		proxy_pass http://dogtw;
		include /usr/local/nginx/ws; 
        }
}
#gkdvnet??
upstream kapok_kr_vnets{         
	server 54.180.122.99:22678;#??????
	server 20.194.7.230:22678 backup;
	check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 20201;
    location / {
		proxy_pass http://kapok_kr_vnets;
		include /usr/local/nginx/ws; 
        }
}
upstream kapok_jp_vnets{        
	server 178.157.94.152:22677;
	server 172.105.211.113:22677 backup;
	check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 20202;
    location / {
		proxy_pass http://kapok_jp_vnets;
		include /usr/local/nginx/ws; 
        }
}
#aw
upstream aw_jp1{
	server 178.157.94.152:2322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25207;
    location / {
		proxy_pass http://aw_jp1;
		include /usr/local/nginx/ws; 
        }
}
upstream aw_jp2{
	server 164.70.91.117:2322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25208;
    location / {
		proxy_pass http://aw_jp2;
		include /usr/local/nginx/ws; 
        }
}
upstream aw_us1{
	server 192.241.150.22:2322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25209;
    location / {
		proxy_pass http://aw_us1;
		include /usr/local/nginx/ws; 
        }
}
upstream aw_us2{
	server 161.35.226.59:2322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25210;
    location / {
		proxy_pass http://aw_us2;
		include /usr/local/nginx/ws; 
        }
}
upstream aw_uk1{
	server 159.65.50.159:2322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25211;
    location / {
		proxy_pass http://aw_uk1;
		include /usr/local/nginx/ws; 
        }
}
upstream aw_de1{
	server 165.22.84.215:2322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25212;
    location / {
		proxy_pass http://aw_de1;
		include /usr/local/nginx/ws; 
        }
}
upstream aw_in1{
	server 139.59.44.51:2322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25213;
    location / {
		proxy_pass http://aw_in1;
		include /usr/local/nginx/ws; 
        }
}
upstream ck_jp1{
	server 178.157.94.152:3322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25807;
    location / {
		proxy_pass http://ck_jp1;
		include /usr/local/nginx/ws; 
        }
}
upstream ck_jp2{
	server 164.70.91.117:3322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25808;
    location / {
		proxy_pass http://ck_jp2;
		include /usr/local/nginx/ws; 
        }
}
upstream ck_us1{
	server 192.241.150.22:3322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25809;
    location / {
		proxy_pass http://ck_us1;
		include /usr/local/nginx/ws; 
        }
}
upstream ck_us2{
	server 161.35.226.59:3322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25810;
    location / {
		proxy_pass http://ck_us2;
		include /usr/local/nginx/ws; 
        }
}
upstream ck_uk1{
	server 159.65.50.159:3322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25811;
    location / {
		proxy_pass http://ck_uk1;
		include /usr/local/nginx/ws; 
        }
}
upstream ck_de1{
	server 165.22.84.215:3322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25812;
    location / {
		proxy_pass http://ck_de1;
		include /usr/local/nginx/ws; 
        }
}
upstream ck_in1{
	server 139.59.44.51:3322;
		check interval=5000 rise=2 fall=2 timeout=3000 type=tcp;
}
server {
    listen 25813;
    location / {
		proxy_pass http://ck_in1;
		include /usr/local/nginx/ws; 
        }
}
